<!DOCTYPE html>
<html lang="en">
  <!-- Initalize title and data source variables -->
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="google-site-verification" content="NjbZn6hQe7OwV-nTsa6nLmtrOUcSGPRyFjxm5zkmCcg" />

    <link rel="stylesheet" href="/css/vendor/css/uswds.v0.9.1.css">
    <link rel="stylesheet" href="/css/public_analytics.css">
    <link rel="icon" type="image/x-icon" href="/images/analytics-favicon.ico">

    <meta name="twitter:site" content="@sfgov">
    <meta name="twitter:creator" content="@sfgov">
    <meta property="og:type" content="website" />

    <meta property="og:url" content="http://sfgov.org" />
    <link rel="canonical" href="http://sfgov.org" />

    <title>analytics.sfgov.org | The San Francisco government's web traffic.</title>
    <meta property="og:title" content="analytics.sfgov.org | The San Francisco government's web traffic." />
    <meta property="og:site_name" content="analytics.sfgov.org | The San Francisco government's web traffic." />

    <meta name="description" content="Official data on web traffic to San Francisco government websites. Published by the SF Digital Service and Products team.">
    <meta property="og:description" content="Official data on web traffic to San Francisco government websites. Published by the SF Digital Service and Products team." />

    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:image" content="http://sfgov.org/images/share-image.png" />
    <script src="/js/vendor/d3.v3.min.js"></script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-8632268-1', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('set', 'forceSSL', true);
    ga('send', 'pageview');

    document.addEventListener("DOMContentLoaded", function(event) {

      d3.selectAll('.download-data').on('click', function() {
        var link = this.href;
        var text = this.text;
        ga('send','event','Download Data', link, text);
      });

      d3.selectAll('.external-link').on('click', function() {
        var link = this.href;
        var text = this.text;
        ga('send','event','External Link', link, text);
      });

      d3.selectAll('.top-download-page').on('click', function() {
        var link = this.href;
        var text = this.text;
        ga('send','event','Top-Download Page', link, text);
      });

      d3.selectAll('.top-download-file').on('click', function() {
        var link = this.href;
        var text = this.text;
        ga('send','event','Top-Download File', link, text);
      });

    });
  </script>

    <!--[if lte IE 9]>
    <script src="/js/vendor/aight.v2.min.js"></script>
    <![endif]-->

    <script src="/js/vendor/q.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/css/google-fonts.css" rel="stylesheet" />
</head>


  <body>
    <header>
        <div class="inner clearfix">
        <div id="name-and-slogan">
            <a href="http://analytics.sfgov.org"><h1>SFGov Analytics</h1><img src="/images/SFanalytics_font.png"></a>          
        </div>
            <ul class="links">
              <li><a href="#explanation">About <span class="sm-hide">this Site</span></a></li>
              <li style="padding-right:45px;"><a href="#explanation">Download the Data</a></li> 
            </ul>
            
        </div>
    </header>
    <div class="container">

              
    <!--
      JavaScript block hooks look for any element with both data-block and
      data-source attributes:
      <section data-block="users" data-source="path/to/data.json">
        The "loading", "loaded", and "error" classes are set on this element
        the data-source URL is loaded. Then the renderer is called on the first
        child of the block with the "data" class:
        <div class="data">
        </div>
        Some renderers expect to be called on HTML tables, in which
        case you would use:
        <table class="data">
        </table>
      </section>
      -->
      <div id="main_data" class="width-two-thirds">
         <!--        <style>
          .technical-difficulties {
            color: #981b1e;
            background: #fff;
            padding-top: 1.25em;
          }
        </style>

        <div class="technical-difficulties">
          * We are currently experiencing technical difficulties with respect to our real-time traffic data. 
          Actual real-time visitor counts may be higher than displayed.
        </div> -->


        <section id="realtime"
          data-block="realtime"
          data-source="https://analytics.usa.gov/data/state/realtime.json"
          data-refresh="15">
          <h2 id="current_visitors" class="data">...</h2>
          <div class="chart_subtitle">people on sfgov websites now</div>
        </section>

        <section class="section_headline visits_today">
          <h3>Visits Today</h3>
          <h4>Pacific Time</h4>
        </section>
        <section id="time_series"
          data-block="today"
          data-source="https://analytics.usa.gov/data/state/today.json"
          data-refresh="15">
          <svg class="data time-series">
          </svg>
        </section>

        <section class="section_headline">
          <h3>Visits in the Past 90 Days</h3>
        </section>

        <section class="section_subheadline" id="pageviews"
          data-block="pageviews"
          data-source="https://analytics.usa.gov/data/state/pageviews.json">
          <span id="total_visitors" class="data">...</span> pageviews over the past 90 days.
        </section>

        <section id="devices" class="three_column"
          data-block="devices"
          data-source="https://analytics.usa.gov/data/state/devices.json">
          <h4>Devices</h4>
          <figure id="chart_device_types">
            <div class="data bar-chart">
            </div>
          </figure>

          <p>
            Much more detailed data is available in <strong><a href="data/">downloadable CSV and JSON</a></strong>. This includes data on combined browser and OS usage.
          </p>
        </section>

        <section id="browsers" class="three_column">
          <h4>Browsers</h4>

          <figure id="chart_browsers"
            data-block="browsers"
            data-source="https://analytics.usa.gov/data/state/browsers.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="chart_ie"
            data-block="ie"
            data-source="https://analytics.usa.gov/data/state/ie.json"
            data-scale-to-parent="true">
            <h4>Internet Explorer</h4>
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

        <section id="operating_systems" class="three_column">
          <h4>Operating Systems</h4>

          <figure id="chart_os"
            data-block="os"
            data-source="https://analytics.usa.gov/data/state/os.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="chart_windows"
            data-block="windows"
            data-source="https://analytics.usa.gov/data/state/windows.json"
            data-scale-to-parent="true">
            <h4>Windows</h4>
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

        <!-- forces section to wrap, couldn't find a better way -->
        <div style="clear: both"></div>

        <section class="section_headline">
          <h3>Visitor Locations Right Now</h3>
        </section>

        <section id="cities" class="three_column"
          data-block="cities"
          data-source="https://analytics.usa.gov/data/state/top-cities-realtime.json">
          <h4>Cities</h4>
          <figure id="chart_top-cities-90-days">
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

        <section id="countries" class="three_column">
          <h4>Countries</h4>

          <figure id="chart_us"
            data-block="countries"
            data-source="https://analytics.usa.gov/data/state/top-countries-realtime.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="chart_countries"
            data-block="international_visits"
            data-source="https://analytics.usa.gov/data/state/top-countries-realtime.json">
            <h4>International</h4>
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

      </div>

      <div id="secondary_data" class="width-one-third">
        <section id="top_100_table">

          <!-- see: http://heydonworks.com/practical_aria_examples/ -->
          <h3>Top <span id="top_table_type">Pages</span></h3>
          <ul class="pills" role="tablist">
            <li><a role="tab" data-type="Pages" aria-selected="true" href="#top-pages-realtime" class="site-nav">Now</a></li>
            <li><a role="tab" data-type="Domains" href="#top-pages-7-days" class="site-nav">7 Days</a></li>
            <li><a role="tab" data-type="Domains" href="#top-pages-30-days" class="site-nav">30 Days</a></li>
          </ul>

          <figure class="top-pages" id="top-pages-realtime" role="tabpanel"
            data-block="top-pages-realtime"
            data-source="https://analytics.usa.gov/data/state/top-pages-realtime.json"
            data-refresh="15">
            <h5><em>
              People on a <strong>single, specific page</strong> now. 
              <a href="https://analytics.usa.gov/data/state">Download the full dataset.</a>
            </em></h5>
            <div class="data bar-chart">
            </div>
          </figure>

          <figure class="top-pages" id="top-pages-7-days" role="tabpanel"
            data-block="top-pages"
            data-source="https://analytics.usa.gov/data/state/top-pages-7-days.json">
            <h5><em>Most active pages over the past week, ranked by number of page visits. 
            <a href="https://analytics.usa.gov/data/state">Download the full dataset.</a>
            </em></h5>
            <div class="data bar-chart">
            </div>
          </figure>

          <figure class="top-pages" id="top-pages-30-days" role="tabpanel"
            data-block="top-pages"
            data-source="https://analytics.usa.gov/data/state/top-pages-30-days.json">
            <h5><em>
              Most active pages over the last 30 days, ranked by number of page visits. 
              <a href="https://analytics.usa.gov/data/state">Download the full dataset.</a>
            </em></h5>
            <div class="data bar-chart">
            </div>
          </figure>

        </section>

        <section id="top_downloads_table">

          <h3>Top Downloads</h3>
          <h5><em>Total file downloads yesterday on agency domains.</em></h5>
          <figure id="top-downloads"
            data-block="top-downloads"
            data-source="https://analytics.usa.gov/data/state/top-downloads-yesterday.json">
            <div class="data bar-chart">
            </div>
          </figure>

        </section>




    </div>
    <table class="bportalfooter"><tr><td>
    
      <section id="explanation" class="width-two-thirds bportalfooter">

          <h3>About this Site</h3>
          <p>This project uses the Digital Analytics Program code developed by <a href="https://18f.gsa.gov/" target="_blank" class="external-link">18F</a>. We acknowledge and are grateful to 18F for open-sourcing this work.</p>

          <p>The data comes from a unified Google Analytics account for City & County of San Francisco web pages, and offers important insights around how people are interacting with local government online. This dashboard serves to help government agencies understand how people find, access, and use cityservices online. It does not track individuals and anonymizes the IP addresses of visitors.</p>

          <p>The vast majority of City & County of San Francisco websites are represented in this data, as the San Francisco Digital Service & Products Team currently collects web statistics from 100+ City websites, across multiple agencies, departments, and offices.</p>
          
          <p>If you have any suggestions, or spot any issues or bugs, please contact the <a href="mailto:digitalservice@sfgov.org">San Francisco Digital Service & Products Team.</a></p>

          <p>As part of the public domain, the original <a href=http://analytics.usa.gov/ class="external-link" target="_blank">analytics.usa.gov</a> website and its content are available without cost or restriction. You can find the <a href="https://github.com/18F/analytics.usa.gov" class="external-link" target="_blank">code for the analytics.usa.gov website</a> and the <a href="https://github.com/18F/analytics-reporter" class="external-link" target="_blank">code for 18F's Analytics Reporter for data collection</a> on GitHub. </p>
      </section>
      
     <section class="width-one-third bportalfooter">
        <h3>Download the Data</h3>
        <p>You can <a href="/data/" target="_blank">download the data here.</a> Available in JSON and CSV format.</p>
        
        <p>You can also find <a href="https://data.sfgov.org/City-Infrastructure/Web-Analytics-for-SFGov-sites-2016-Q1-Q2-Q3-/iy4m-quhy" class="external-link" target="_blank">analytics data sets on SF Open Data.</a></p>

      </section>  



    </td></tr></table>
  </body>

    <!--
    IE detection, used to guide console formatting in subsequent include.
  -->
  <script type="text/javascript">window._ie9 = false;</script>

  <!--[if IE 9 ]>
    <script type="text/javascript">window._ie9 = true;</script>
  <![endif]-->

  <!--
   IE10 JS targeting: https://stackoverflow.com/a/17099988
   IE11 JS targeting: https://stackoverflow.com/a/17447695
  -->
  <script type="text/javascript">
    window._ie10 = ("onpropertychange" in document && !!window.matchMedia);
    window._ie11 = !!navigator.userAgent.match(/Trident\/7.0; rv 11/);
    window._ie = window._ie9 || window._ie10 || window._ie11;
  </script>

  <script src="/js/vendor/uswds.v0.9.1.js"></script>
  <script src="/js/index.js"></script>




</html>
